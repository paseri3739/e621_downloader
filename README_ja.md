# scrape_e621

このスクリプトはe621にログインして検索クエリを入力し、ページ遷移しながら指定したダウンロード数に達するまでURLをリストアップし、リストアップしたURLを利用して2秒ごとにダウンロードを行う。Playwrightを利用してブラウザ操作を模倣、ログインする手順を踏むことによってe621の未ログインユーザーに対する閲覧制限を回避することができる。

# インストール方法

TypeScriptを利用して開発していますが、コンパイル済のscrape_e621.jsをnodeで実行できます。

```
$ npm install
```

依存関係が解決できたら.envという名前の隠しファイルを作り、以下のように編集します。

```
USER_NAME="your_user_name"
PASSWORD="your_password"
```

# 実行

以下のようにコマンドを入力して実行してください。
```
ts-node dist/main.ts "your_search_query" number_of_download_limit
```
第２引数はクォーテーションマークで囲って検索クエリを入力してください。第３引数には整数を指定します。

